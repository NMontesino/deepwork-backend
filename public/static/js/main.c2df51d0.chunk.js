(this["webpackJsonpdeepwork-frontend"]=this["webpackJsonpdeepwork-frontend"]||[]).push([[0],[,,,,,,,,function(e,t,n){},,function(e,t,n){e.exports=n.p+"static/media/service-bell_daniel_simion.5a4b55a8.wav"},function(e,t,n){e.exports=n.p+"static/media/Mindfulness Bell - A 5 Minute Mindfulness Meditation.a76ce233.wav"},function(e,t,n){e.exports=n.p+"static/media/noun_Play in circle_2433769.140e6d8d.svg"},function(e,t,n){e.exports=n.p+"static/media/noun_pause in circle_2433738.2dc19fd1.svg"},function(e,t,n){e.exports=n.p+"static/media/noun_Refresh_2433739.692f8292.svg"},,function(e,t,n){e.exports=n(21)},,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(9),o=n.n(r),i=(n(8),n(1)),l=n(2),c=n(4),u=n(3),m=n(5),p=n(6),h=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:"",signIn:!0,signUp:!1,glow:"rgba(220, 53, 25, 0.5)"},n.handleChange=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.handleSignIn=function(){n.props.signin(n.state.username,n.state.password)},n.handleSignUp=function(){n.props.signup(n.state.username,n.state.password)},n.setSignIn=function(){n.setState({signIn:!0,signUp:!1,glow:"rgba(220, 53, 25, 0.5)"})},n.setSignUp=function(){n.setState({signIn:!1,signUp:!0,glow:"rgba(25, 53, 220, 0.5)"})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("form",{className:"bg-white rounded-lg px-8 pt-6 pb-8 mb-4",style:{"box-shadow":"0 0 8px 2px ".concat(this.state.glow)}},s.a.createElement("div",{className:"mb-4"},s.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",for:"username"},"Username"),s.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",name:"username",type:"text",placeholder:"Username",onChange:this.handleChange})),s.a.createElement("div",{className:"mb-6"},s.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",for:"password"},"Password"),s.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",name:"password",type:"password",placeholder:"******************",onChange:this.handleChange})),s.a.createElement("div",{className:"flex items-center justify-between"},this.state.signIn?s.a.createElement("button",{className:"w-full bg-blue-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",onClick:this.handleSignIn,style:{"background-color":this.state.glow}},"Sign In"):s.a.createElement("button",{className:"w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",onClick:this.handleSignUp,style:{"background-color":this.state.glow}},"Sign Up")),s.a.createElement("div",{className:"text-xs flex flex-row justify-between items-center mt-6"},this.state.signUp?s.a.createElement("span",{className:"text-gray-500 hover:text-gray-400",onClick:this.setSignIn},"Need to Sign In?"):this.state.signIn?s.a.createElement("span",{className:"text-gray-500 hover:text-gray-400",onClick:this.setSignUp},"Need to Sign Up?"):"You broke the app"))}}]),t}(a.Component),d=n(10),f=n.n(d),g=n(11),b=n.n(g),x=n(12),w=n.n(x),y=n(13),k=n.n(y),v=n(14),E=n.n(v),j=new Audio(b.a),N=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={minutes:null,seconds:null,running:!1,work:!0,break:!1,intervalId:null},n.startTimer=function(){var e=setInterval(n.runTimer,1e3);n.state.break&&j.play(),n.setState({intervalId:e,running:!0})},n.setWork=function(){n.setState({work:!0,break:!1},(function(){return n.resetTimer()}))},n.setBreak=function(){n.setState({work:!1,break:!0},(function(){return n.resetTimer()}))},n.runTimer=function(){n.setState({minutes:n.state.minutes>0&&0===n.state.seconds?n.state.minutes-1:n.state.minutes,seconds:n.state.minutes>=0&&0===n.state.seconds?0===n.state.minutes?0:n.state.seconds+59:n.state.seconds-1},0===n.state.minutes&&0===n.state.seconds?function(){return n.switchFocus()}:null)},n.stopTimer=function(){console.log("Stop hitting"),j.pause(),clearInterval(n.state.intervalId),n.setState({running:!1})},n.resetTimer=function(){n.stopTimer(),j.currentTime=0,n.state.work?(n.props.iterate(),n.setState({minutes:0,seconds:25,running:!1})):n.state.break&&n.setState({minutes:0,seconds:5,running:!1})},n.autoplayTimer=function(){n.resetTimer(),n.startTimer()},n.switchFocus=function(){new Audio(f.a).play(),n.setState({work:!n.state.work,break:!n.state.break},(function(){return n.autoplayTimer()}))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.resetTimer()}},{key:"render",value:function(){return s.a.createElement("div",{className:"h-full w-1/4 flex flex-col justify-around items-center px-4"},s.a.createElement("div",{className:"flex flex-col justify-center items-center w-full"},s.a.createElement("span",null,"Welcome to"),s.a.createElement("span",{style:{"font-family":"Courgette","font-size":"40px"}},"DeepWork"),s.a.createElement("span",null,this.props.name)),s.a.createElement("div",{classname:"flex flex-col justify-center items-center w-full",style:{width:"150px"}},s.a.createElement("div",{className:"text-2xl mb-2 text-center flex flex-row justify-around w-full pl-px",style:{"font-family":"Courgette","font-size":"40px"}},s.a.createElement("span",{className:"w-5/12"},this.state.minutes<10?"0"+this.state.minutes:this.state.minutes),s.a.createElement("span",{className:"w-1/6"},":"),s.a.createElement("span",{className:"w-5/12"},this.state.seconds<10?"0"+this.state.seconds:this.state.seconds)),s.a.createElement("div",{className:"flex flex-row text-xs mb-4 justify-around w-full"},s.a.createElement("span",{className:"mx-2",onClick:this.setWork,style:this.state.work?{"font-weight":"bold",scale:"1.1",color:"rgba(0, 0, 0, 1)"}:{color:"rgba(0, 0, 0, 0.2)"}},"Work"),s.a.createElement("span",{className:"mx-2",onClick:this.setBreak,style:this.state.break?{"font-weight":"bold",scale:"1.1",color:"rgba(0, 0, 0, 1)"}:{color:"rgba(0, 0, 0, 0.2)"}},"Break")),s.a.createElement("div",{className:"flex flex-col w-full items-center justify-around"},this.state.running?s.a.createElement("img",{height:"50px",width:"50px",src:k.a,onClick:this.stopTimer}):s.a.createElement("img",{height:"50px",width:"50px",src:w.a,onClick:this.startTimer}),s.a.createElement("img",{height:"50px",width:"50px",src:E.a,onClick:this.resetTimer}))),s.a.createElement("div",{className:"w-full flex justify-center"},s.a.createElement("button",{style:{"background-color":"#EF7A85"},className:"py-2 px-4 rounded font-bold text-white",onClick:this.props.logout},"Logout")))}}]),t}(a.Component),O=n(15),S=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"px-4 py-2 rounded-full",style:this.props.active?{"background-color":this.props.bgHighlight,color:this.props.textHighlight,"font-family":"Montserrat","font-weight":"600"}:{"background-color":this.props.textHighlight,color:this.props.bgHighlight,"font-family":"Montserrat","font-weight":"600"}},this.props.task.name)}}]),t}(a.Component),C=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).adjustIndex=function(){return n.props.index>n.props.tasks.length-1?n.props.index%n.props.tasks.length:n.props.index},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tasks?this.props.tasks.map((function(t,n){return s.a.createElement(S,{task:t,bgHighlight:e.props.colors.text,textHighlight:e.props.colors.bg,active:n===e.adjustIndex()})})):null;return s.a.createElement("div",{className:"rounded-lg shadow",style:{height:"100%",width:"calc((100% - 48px)/2)","margin-left":"16px","background-color":this.props.colors.bg,color:this.props.colors.text}},s.a.createElement("div",{className:"w-full text-center text-2xl my-4",style:{"font-family":"Montserrat","font-weight":"900"}},this.props.name),s.a.createElement("div",{className:"w-full p-4",style:{height:"70%",overflow:"scroll"}},t))}}]),t}(a.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"flex flex-col w-3/4 h-full"},s.a.createElement("div",{className:"flex flex-row",style:{height:"calc((100% - 48px) / 2)",width:"100%",margin:"16px 0"}},s.a.createElement(C,{index:this.props.index,tasks:this.props.tasks?this.props.tasks.filter((function(e){return e.important&&e.urgent})):null,name:"Do It",colors:{bg:"#b5f2dd",text:"#8a36ff"}}),s.a.createElement(C,{tasks:this.props.tasks?this.props.tasks.filter((function(e){return e.important&&!e.urgent})):null,name:"Defer It",colors:{bg:"#FBDAB3",text:"#d64737"}})),s.a.createElement("div",{className:"flex flex-row",style:{height:"calc((100% - 48px) / 2)",width:"100%","margin-bottom":"16px"}},s.a.createElement(C,{tasks:this.props.tasks?this.props.tasks.filter((function(e){return!e.important&&e.urgent})):null,name:"Delegate It",colors:{bg:"#642115",text:"#97E6FA"}}),s.a.createElement(C,{tasks:this.props.tasks?this.props.tasks.filter((function(e){return!e.important&&!e.urgent})):null,name:"Delete It",colors:{bg:"#782BE4",text:"#f6c699"}})))}}]),t}(a.Component),T=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={taskName:"",urgent:null,important:null},n.handleSubmit=function(e){e.preventDefault(),fetch("http://localhost:3000/api/v1/tasks",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.token)},body:JSON.stringify({name:n.state.taskName,urgent:n.state.urgent,important:n.state.important,user_id:n.props.user.id})}).then((function(e){return e.json()})).then((function(e){n.props.addTask(e)}))},n.handleTaskChange=function(e){n.setState({taskName:e.target.value})},n.handleBooleanChange=function(e){"Yes"===e.target.value?n.setState(Object(p.a)({},e.target.name,!0)):"No"===e.target.value&&n.setState(Object(p.a)({},e.target.name,!1))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"w-1/4 h-full flex items-center",style:{"margin-left":"16px"}},s.a.createElement("form",{className:"w-5/6 flex flex-col justify-center items-center",onSubmit:this.handleSubmit},s.a.createElement("label",{for:"task",className:"mb-1"},"What needs to get done?"),s.a.createElement("input",{type:"text",name:"task",className:"mb-4 shadow appearance-none border rounded-lg w-full py-1 px-2 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",onChange:this.handleTaskChange}),s.a.createElement("p",{className:"mb-1"},"Is it urgent?"),s.a.createElement("div",{id:"urgent",className:"mb-4 flex flex-row justify-center",onChange:this.handleBooleanChange},s.a.createElement("div",{style:{width:"48px"},className:"flex flex-row justify-between items-center mr-8"},s.a.createElement("p",null,"Yes"),s.a.createElement("input",{unchecked:!0,type:"radio",name:"urgent",value:"Yes"})),s.a.createElement("div",{style:{width:"44px"},className:"flex flex-row justify-between items-center"},s.a.createElement("p",null,"No"),s.a.createElement("input",{unchecked:!0,type:"radio",name:"urgent",value:"No"}))),s.a.createElement("p",{id:"important",className:"mb-1"},"Is it important?"),s.a.createElement("div",{id:"important",className:"mb-6 flex flex-row justify-center",onChange:this.handleBooleanChange},s.a.createElement("div",{style:{width:"48px"},className:"flex flex-row justify-between items-center mr-8"},s.a.createElement("p",null,"Yes"),s.a.createElement("input",{unchecked:!0,type:"radio",name:"important",value:"Yes"})),s.a.createElement("div",{style:{width:"44px"},className:"flex flex-row justify-between items-center"},s.a.createElement("p",null,"No"),s.a.createElement("input",{unchecked:!0,type:"radio",name:"important",value:"No"}))),s.a.createElement("input",{style:{"background-color":"#B892FF"},className:"shadow hover:bg-purple-400 w-1/2 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded",type:"submit",value:"Add Task"})))}}]),t}(a.Component),A=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={tasks:n.props.user.tasks},n.addTask=function(e){console.log(n.state.tasks),console.log(e),n.state.tasks?n.setState({tasks:[].concat(Object(O.a)(n.state.tasks),[e])}):n.setState({tasks:[e]})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"flex flex-row h-full w-3/4 justify-center items-center"},s.a.createElement(I,{tasks:this.state.tasks,index:this.props.index}),s.a.createElement(T,{addTask:this.addTask,user:this.props.user}))}}]),t}(a.Component),U=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={isLoggedIn:!1,user:null,index:-1},n.autoLogin=function(){var e=localStorage.getItem("token");console.log(e),e&&fetch("http://localhost:3000/api/v1/users/auto_login",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){console.log(e),n.setState({user:e},(function(){n.setState({isLoggedIn:!0})}))}))},n.getReturningUser=function(e,t){fetch("http://localhost:3000/api/v1/users/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){console.log(e.user),e.error||(localStorage.setItem("token",e.token),n.setState({user:e.user,isLoggedIn:!0}))}))},n.getNewUser=function(e,t){fetch("http://localhost:3000/api/v1/users",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){e.user&&(localStorage.token=e.token,n.setState({user:e.user},(function(){n.setState({isLoggedIn:!0})})))}))},n.iterate=function(){n.setState({index:n.state.index+1})},n.index=function(){return n.state.index},n.logout=function(){localStorage.clear(),n.setState({isLoggedIn:!1,user:null,index:-1})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.autoLogin()}},{key:"render",value:function(){var e=this;return console.log(this.state.user),s.a.createElement("div",{className:"App w-full h-full flex flex-row justify-center items-center bg-gray-100"},this.state.isLoggedIn?s.a.createElement(s.a.Fragment,null,s.a.createElement(N,{iterate:function(){return e.iterate()},name:this.state.user.username,logout:this.logout}),s.a.createElement(A,{user:this.state.user,index:this.index()})):s.a.createElement(h,{signin:this.getReturningUser,signup:this.getNewUser}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[16,1,2]]]);
//# sourceMappingURL=main.c2df51d0.chunk.js.map